\documentclass{article}

\usepackage{booktabs}
\usepackage{tabularx}
\usepackage{hyperref}
\usepackage{pdflscape}
\usepackage{float}
\usepackage{adjustbox}
\usepackage{multirow}
\usepackage{enumitem}
\usepackage{longtable}

\hypersetup{
    colorlinks=true,       % false: boxed links; true: colored links
    linkcolor=red,          % color of internal links (change box color with linkbordercolor)
    citecolor=green,        % color of links to bibliography
    filecolor=magenta,      % color of file links
    urlcolor=cyan           % color of external links
}

\title{Hazard Analysis\\\progname}

\author{\authname}

\date{\today}

\input{../Comments}
\input{../Common}

\begin{document}

\maketitle
\thispagestyle{empty}

~\newpage

\pagenumbering{roman}

\begin{table}[hp]
	\caption{Revision History} \label{TblRevisionHistory}
	\begin{tabularx}{\textwidth}{llX}
		\toprule
		\textbf{Date}    & \textbf{Developer(s)} & \textbf{Change}                               \\
		\midrule
		October 13, 2022 & Arkin Modi            & Create Failure Mode and Effect Analysis table \\
		October 14, 2022 & Joy Xiao              & Introduction                                  \\
		October 15, 2022 & Leon So               & Update Failure Mode and Effect Analysis table \\
		\bottomrule
	\end{tabularx}
\end{table}

~\newpage

\tableofcontents

~\newpage

\pagenumbering{arabic}

\wss{You are free to modify this template.}

\section{Introduction}
This document outlines the hazard analysis of Sayyara. The definition of hazard is any property or
condition in the system along with conditions in the environment that may cause harm or damage.
This definition is from Nancy Leveson's work. The hazards for Sayyara include security and usage
hazards such as protecting personal information, database failures, and having no internet
connection.

\section{Scope and Purpose of Hazard Analysis}
The scope of the hazard analysis is to identify any hazards that may arise when using the
application, their causes, coming up with steps to eliminate or mitigate the effect of the hazard.
The purpose of the hazard analysis is to pinpoint areas where hazards may arise and their effects
and come up with mitigation steps. Through completing the hazard analysis, safety and security
requirements will be developed early in the design process to minimize the risk of having hazards
occur without plans in place to reduce or mitigate the effects.

\section{System Boundaries and Components}
The system consists of:
\begin{enumerate}
	\item The application's front-end and back-end components in the major categories:
	      \begin{itemize}
		      \item Authentication
		      \item Appointments
		      \item Quotes
		      \item Work Orders
		      \item Shop Profile
		      \item Services
		      \item Shop Employees
	      \end{itemize}
	\item The database being used which will store all of application's data
\end{enumerate}

\section{Critical Assumptions}
\begin{itemize}
	\item Assume the users of the application are not intentionally trying to misuse it
	\item Assume that the user will follow cybersecurity best practices
\end{itemize}

\newpage
\begin{landscape}
	\section{Failure Mode and Effect Analysis}
	\begin{longtable}{|p{0.15\textwidth}|p{0.15\textwidth}|p{0.25\textwidth}|p{0.25\textwidth}|p{0.35\textwidth}|p{0.1\textwidth}|p{0.05\textwidth}|}
		\caption{Failure Mode and Effect Analysis Table}                                                     \\
		\hline
		\multicolumn{1}{|c|}{\textbf{Component}}
		 & \multicolumn{1}{|c|}{\textbf{Failure Modes}}
		 & \multicolumn{1}{|c|}{\textbf{Effects of Failure}}
		 & \multicolumn{1}{|c|}{\textbf{Causes of Failure}}
		 & \multicolumn{1}{|c|}{\textbf{Recommended Action}}
		 & \multicolumn{1}{|c|}{\textbf{SR}}
		 & \multicolumn{1}{|c|}{\textbf{Ref.}}                                                               \\
		\hline
		General
		 & Loss or theft of Personal Identifiable Information (PII)
		 & Legal consequences
		 & \begin{enumerate}[label=\alph*., leftmargin=*]
			   \item Malicious internal or external actors gains access to the system
			   \item SQL inject attack
		   \end{enumerate}
		 & \begin{enumerate}[label=\alph*., leftmargin=*]
			   \item Encryption of PII data at rest and in transit
		   \end{enumerate}
		 & \begin{enumerate}[label=\alph*., leftmargin=*]
			   \item
		   \end{enumerate}
		 & H1-1                                                                                              \\
		\hline
		\multirow{2}{*}{Authentication}
		 & User cannot login
		 & User is unable to access their account and application features requiring login
		 & \begin{enumerate}[label=\alph*., leftmargin=*]
			   \item User inputted login credentials do not match the credentials in the database
		   \end{enumerate}
		 & \begin{enumerate}[label=\alph*., leftmargin=*]
			   \item Allow user to reset password
		   \end{enumerate}
		 & \begin{enumerate}[label=\alph*., leftmargin=*]
			   \item
		   \end{enumerate}
		 & H2-1                                                                                              \\
		\cline{2-7}
		 & User account is hacked
		 & Unauthorized actions may be performed from the hacked account
		 & \begin{enumerate}[label=\alph*., leftmargin=*]
			   \item Malicious internal or external actors gains access to the user account
		   \end{enumerate}
		 & \begin{enumerate}[label=\alph*., leftmargin=*]
			   \item Allow user to reset password
			   \item System administrators to undo/revert unauthorized changes
		   \end{enumerate}
		 & \begin{enumerate}[label=\alph*., leftmargin=*]
			   \item
		   \end{enumerate}
		 & H2-2                                                                                              \\
		\hline
		Appointments
		 & Multiple appointments are scheduled for the same time
		 & Conflict in scheduling and availability
		 & \begin{enumerate}[label=\alph*., leftmargin=*]
			   \item Two or more users attempt to schedule an appointment for the same time slot at the same time
		   \end{enumerate}
		 & \begin{enumerate}[label=\alph*., leftmargin=*]
			   \item The shop owner or employee will accept one of the appointments
		   \end{enumerate}
		 & \begin{enumerate}[label=\alph*., leftmargin=*]
			   \item
		   \end{enumerate}
		 & H3-1                                                                                              \\
		\hline
		Quotes
		 & Chat is disconnected
		 & Loss of chat history, new messages sent may not be received
		 & \begin{enumerate}[label=\alph*., leftmargin=*]
			   \item Loss of internet
			   \item Inactive or stale connection
			   \item Web socket failure
		   \end{enumerate}
		 & \begin{enumerate}[label=\alph*., leftmargin=*]
			   \item Notify user of chat disconnection
			   \item Cache latest messages, disable send button
		   \end{enumerate}
		 & \begin{enumerate}[label=\alph*., leftmargin=*]
			   \item
		   \end{enumerate}
		 & H4-1                                                                                              \\
		\hline
	\end{longtable}
\end{landscape}

\section{Safety and Security Requirements}

\wss{Newly discovered requirements.  These should also be added to the SRS.  (A
	rationale design process how and why to fake it.)}

\section{Roadmap}

\wss{Which safety requirements will be implemented as part of the capstone timeline?
	Which requirements will be implemented in the future?}

\end{document}
